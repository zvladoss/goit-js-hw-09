{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const refs = {\n  formFeedback: document.querySelector('.feedback-form'),\n  input: document.querySelector(\"input[name='email']\"),\n  textarea: document.querySelector(\"textarea[name='message']\"),\n};\n\nconst newDiv = document.createElement('div');\nnewDiv.classList.add('form-container');\n\nrefs.formFeedback.parentNode.insertBefore(newDiv, refs.formFeedback);\nnewDiv.appendChild(refs.formFeedback);\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst fillFormFields = formFeedback => {\n  const formLsData = JSON.parse(localStorage.getItem('feedback-form-state'));\n  if (formLsData === null) {\n    return;\n  }\n  formData = formLsData;\n  const formDataKeys = Object.keys(formLsData);\n  formDataKeys.forEach(key => {\n    refs.formFeedback.elements[key].value = formLsData[key];\n  });\n};\n\nfillFormFields(refs.formFeedback);\n\nconst onFormFieldChange = ({ target: formField }) => {\n  const fieldName = formField.name;\n  const fieldValue = formField.value;\n  formData[fieldName] = fieldValue;\n\n  localStorage.setItem('feedback-form-state', JSON.stringify(formData));\n};\n\nconst onFeedbackFormSubmit = event => {\n  event.preventDefault();\n  if (refs.input.value === '' || refs.textarea.value === '') {\n    alert('Fill please all fields');\n    return;\n  }\n  localStorage.removeItem('feedback-on-state');\n  event.currentTarget.reset();\n};\nrefs.formFeedback.addEventListener('input', onFormFieldChange);\nrefs.formFeedback.addEventListener('submit', onFeedbackFormSubmit);\n"],"names":["refs","newDiv","formData","fillFormFields","formFeedback","formLsData","key","onFormFieldChange","formField","fieldName","fieldValue","onFeedbackFormSubmit","event"],"mappings":"oDAAA,MAAMA,EAAO,CACX,aAAc,SAAS,cAAc,gBAAgB,EACrD,MAAO,SAAS,cAAc,qBAAqB,EACnD,SAAU,SAAS,cAAc,0BAA0B,CAC7D,EAEMC,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAU,IAAI,gBAAgB,EAErCD,EAAK,aAAa,WAAW,aAAaC,EAAQD,EAAK,YAAY,EACnEC,EAAO,YAAYD,EAAK,YAAY,EAEpC,IAAIE,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAiBC,GAAgB,CACrC,MAAMC,EAAa,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACzE,GAAIA,IAAe,KACjB,OAEFH,EAAWG,EACU,OAAO,KAAKA,CAAU,EAC9B,QAAQC,GAAO,CAC1BN,EAAK,aAAa,SAASM,CAAG,EAAE,MAAQD,EAAWC,CAAG,CAC1D,CAAG,CACH,EAEAH,EAAgC,EAEhC,MAAMI,EAAoB,CAAC,CAAE,OAAQC,KAAgB,CACnD,MAAMC,EAAYD,EAAU,KACtBE,EAAaF,EAAU,MAC7BN,EAASO,CAAS,EAAIC,EAEtB,aAAa,QAAQ,sBAAuB,KAAK,UAAUR,CAAQ,CAAC,CACtE,EAEMS,EAAuBC,GAAS,CAEpC,GADAA,EAAM,eAAc,EAChBZ,EAAK,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAU,GAAI,CACzD,MAAM,wBAAwB,EAC9B,MACD,CACD,aAAa,WAAW,mBAAmB,EAC3CY,EAAM,cAAc,OACtB,EACAZ,EAAK,aAAa,iBAAiB,QAASO,CAAiB,EAC7DP,EAAK,aAAa,iBAAiB,SAAUW,CAAoB"}